@using Microsoft.AspNetCore.Components
@using Microsoft.Extensions.Configuration
@inject IConfiguration Configuration
@inject NavigationManager NavigationManager

@code {
    protected override void OnInitialized()
    {
        var authServerUrl = Configuration["AuthServer:BaseUrl"];
        if (string.IsNullOrEmpty(authServerUrl))
        {
             // Fallback or error handling
             authServerUrl = "/"; 
        }
        var loginUrl = $"{authServerUrl.EnsureEndsWith('/')}Account/Login?returnUrl={NavigationManager.Uri}";
        NavigationManager.NavigateTo(loginUrl, forceLoad: true);
    }
}
